# Gemini Alt Text Generator

Google Gemini AIを使用して画像の代替テキスト（alt属性）を自動生成するChrome拡張機能です。

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## 📝 概要

この拡張機能は、Webページ上の画像を右クリックするだけで、Google Gemini APIを使用して適切な代替テキストを生成します。アクセシビリティの向上やSEO対策に役立ちます。

### 主な機能

- ✨ **AIによる自動生成**: Google Gemini APIが画像内容を分析し、適切なalt textを生成
- 🔄 **モデル自動フォールバック**: 複数のGeminiモデル（3.0 Pro/Flash、2.5 Pro/Flash）を優先順位に従って自動的に試行
- 💬 **チャット形式のUI**: LINE風のインターフェースで対話的に生成・修正が可能
- 🎨 **ダークモード対応**: ブラウザのダークモード設定に自動対応
- 📋 **ワンクリックコピー**: 生成されたテキストを簡単にコピー
- 🔧 **カスタマイズ可能**: プロンプトを編集して生成内容を調整

## 🚀 インストール

### 1. APIキーの取得

1. [Google AI Studio](https://aistudio.google.com/)にアクセス
2. 新しいAPIキーを作成
3. APIキーをコピー

### 2. 拡張機能のインストール

1. このリポジトリをクローンまたはダウンロード
   ```bash
   git clone https://github.com/yourusername/google-alt-generator.git
   ```

2. Chromeで `chrome://extensions` を開く

3. 右上の「デベロッパーモード」を有効化

4. 「パッケージ化されていない拡張機能を読み込む」をクリック

5. ダウンロードしたフォルダを選択

### 3. APIキーの設定

1. 拡張機能アイコンをクリック
2. 「オプション」を開く
3. 取得したGemini APIキーを入力
4. 「保存」をクリック

## 💡 使い方

### 基本的な使い方

1. **画像を右クリック**
   - Webページ上の任意の画像を右クリック
   - 「Geminiで画像に指示」を選択

2. **プロンプトを入力**
   - 指示ダイアログが表示されます
   - デフォルトのプロンプトを編集するか、そのまま使用
   - 「生成開始 (Auto)」をクリック

3. **生成結果を確認**
   - AIが画像を分析してalt textを生成
   - チャット形式で結果が表示されます

4. **テキストをコピー**
   - 生成されたテキストの右側にあるコピーアイコンをクリック
   - クリップボードにコピーされます

### 再生成・修正

チャット画面で追加の指示を入力することで、テキストを修正・再生成できます：

- 「もっと簡潔に」
- 「商品名を含めて」
- 「他の呼び方はありますか？」

### プロンプトのカスタマイズ

デフォルトのプロンプト：
```
この画像の代替テキストを簡潔に日本語で生成してください。
```

より良い結果を得るために、以下のようなプロンプトも試してみてください：

- 「この画像の内容を視覚障害者向けに詳しく説明してください」
- 「この画像のalt属性として適切なテキストを生成してください（最大125文字）」
- 「この画像の商品説明として適切なテキストを日本語で生成してください」

## 🎨 UI特徴

### ダークモード対応

ブラウザのダークモード設定に自動的に対応します：

- **ライトモード**: 白基調の明るいインターフェース
- **ダークモード**: 目に優しい暗色インターフェース
- WCAG AA準拠のコントラスト比を確保

### LINE風チャットUI

- シンプルで直感的な操作性
- メッセージバブルで会話形式の表示
- スムーズなアニメーション

## 🔧 技術仕様

### 使用モデル（優先順位順）

1. **Gemini 3.0 Pro Preview** - 最新の高性能モデル
2. **Gemini 3.0 Flash Preview** - バランス重視
3. **Gemini 2.5 Pro** - 安定版
4. **Gemini 2.5 Flash** - 高速版

APIエラーやレートリミット到達時、自動的に次のモデルへフォールバックします。

### 対応ブラウザ

- Google Chrome 88以降
- Chromiumベースのブラウザ（Edge、Braveなど）

### ファイル構成

```
google-alt-generator/
├── manifest.json          # 拡張機能のメタデータ
├── background.js          # バックグラウンド処理・API呼び出し
├── content.js             # UI生成・ページコンテンツ操作
├── options.html           # 設定ページ
├── options.js             # 設定ページのロジック
└── icons/                 # アイコン画像
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 🔒 プライバシーとセキュリティ

- APIキーは`chrome.storage.sync`に安全に保存されます
- 画像URLのみがGemini APIに送信されます
- 生成されたテキストはローカルに保存されません
- 外部サーバーへのデータ送信はGemini API呼び出しのみです

## ⚠️ 注意事項

### 画像URL・ファイル名の影響

Gemini APIは画像URLやファイル名を参照する可能性があります。例えば、ファイル名が `imagawayaki.png` の場合、画像の視覚的内容だけでなくファイル名から「今川焼」という情報を取得することがあります。

### レートリミット

Gemini APIには利用制限があります。頻繁に使用する場合は、[API割り当て](https://ai.google.dev/pricing)をご確認ください。

### 生成結果の精度

AIが生成するテキストは必ずしも完璧ではありません。重要なコンテンツの場合は、人間による確認・編集をお勧めします。

## 🐛 トラブルシューティング

### 「APIキーが設定されていません」と表示される

1. 拡張機能のオプションページを開く
2. APIキーが正しく入力されているか確認
3. APIキーを再入力して保存

### 生成が失敗する

1. インターネット接続を確認
2. APIキーが有効か確認
3. Gemini APIの利用制限に達していないか確認
4. しばらく時間をおいて再試行

### ダイアログが表示されない

1. 拡張機能が有効になっているか確認
2. ページをリロード
3. 拡張機能を再読み込み

## 📝 ライセンス

MIT License

## 🤝 コントリビューション

バグ報告や機能リクエストは、GitHubのIssuesでお願いします。

プルリクエストも歓迎します！

## 📧 お問い合わせ

質問や提案がある場合は、GitHubのIssuesでお知らせください。

---

**Powered by Google Gemini AI** 🚀
